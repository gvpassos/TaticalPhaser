<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="./src/phaser/phaser.min.js"></script>
    <script type="module" >
        import { FaseCombate } from "./src/combate/faseCombate.js";
        import { Cenario } from "./src/cenario/CriadorMapa.js";

        ///instancia de fase de combate
        let Config = {
            marcadorEtapa: "escolhaDoJogador",
            quantJogadasP: 1,
            players: [
                { 
                    name: 'player1', x: 3*32, y: 4*32,
                    stats: {
                        vida: 25,vidaMax:25,
                        mana: 5,manaMax:15,
                        defesa: 3,
                    },
                    acoes: [
                        { tipo:'Atacar', name: 'Atacar', dados:{ damage :2}},
                        { tipo:'Magia', name: 'Magia de Raio', dados:{ raio:2, damage :2}},    
                        { tipo:'Andar', name: 'Andar', dados: { speed :25}},
                        { tipo:'Defender', name: 'Defender', dados:{ defesa :5}},

                    ],
                },
                { 
                    name: 'player2', x: 6*32, y: 5*32,
                    stats: {
                        vida: 15,vidaMax:15,
                        mana: 25,manaMax:25,
                        defesa: 1,
                    },
                    acoes: [
                        { tipo:'Atacar',    name: 'Atacar',         dados:  { damage: 1}},
                        { tipo:'Magia',     name: 'Magia de Gelo',  dados:  { raio:3, damage : 6}},
                        { tipo:'Magia',     name: 'Magia de Fogo',  dados:  { raio:4, damage : 10}},   
                        { tipo:'Andar',     name: 'Andar',          dados:  { speed :5}},
                        { tipo:'Defender',  name: 'Defender',       dados:  { defesa :10}},

                    ]
                },
            ],
            playerActive:0,


            inimigos : [
                { name: 'inimigo3', x: 24*32, y: 9*32,
                    stats: {
                        vida: 20,
                    },
                    acoes: [
                        { name: 'Atacar', dados:{ damage :1 }  },
                        { name: 'Andar', dados: { speed :3}  },
                    ]},
                { name: 'inimigo1', x: 8*32, y: 9*32 ,
                    stats: {
                        vida: 20,
                    },
                    acoes: [
                        { name: 'Atacar', dados: { damage : 1}  },
                        { name: 'Andar', dados: { speed : 3}  },
                    ]},
                { name: 'inimigo2', x: 15*32, y: 8*32, 
                    stats: {
                        vida: 20,
                    },
                    acoes: [
                        { name: 'Atacar', dados:{ damage :1}  },
                        { name: 'Andar', dados: { speed :6}  },
                    ]},
                { name: 'inimigo3', x: 20*32, y: 9*32,
                    stats: {
                        vida: 20,
                    },
                    acoes: [
                        { name: 'Atacar', dados:{ damage :1}  },
                        { name: 'Andar', dados: { speed :3}  },
                    ]},
                { name: 'inimigo3', x: 10*32, y: 2*32,
                    stats: {
                        vida: 20,
                    },
                    acoes: [
                        { name: 'Atacar', dados:{ damage :1}  },
                        { name: 'Andar', dados: { speed :3}  },
                    ]},
            ]
        };
        const faseCombate = new FaseCombate(Config)
        const Cidade = new Cenario (Config,"entrada");

        const config = {
            type: Phaser.AUTO,
            width: 800,
            height: 600,
            physics: {
                default: 'arcade',
                arcade: {
                    debug: false
                }
            },
            scene: [Cidade],
            parent: 'root',
        }

        const Game = new Phaser.Game(config);
        Game.scene.start('Cidade');
    </script>
    <style>
        canvas{
            width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    <div id="root"></div>
</body>
</html>